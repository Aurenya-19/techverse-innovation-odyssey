<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TechVerse: Complete Living World</title>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: 'Segoe UI', sans-serif; overflow: hidden; background: linear-gradient(135deg, #1a0033, #004488); color: #fff; }
#game { width: 100vw; height: 100vh; position: relative; overflow: hidden; }

/* Sky */
#sky { position: absolute; top: 0; left: 0; width: 100%; height: 40%; background: linear-gradient(to bottom, #0066ff, #ff6600); z-index: 1; }

/* Ground */
#ground { position: absolute; bottom: 0; left: 0; width: 100%; height: 60%; background: linear-gradient(to bottom, #2a5a2a, #1a3a1a); z-index: 2; }

/* City */
#city { position: absolute; bottom: 20%; left: 0; width: 100%; height: 40%; z-index: 3; display: flex; justify-content: space-around; align-items: flex-end; padding: 0 5%; }

.building { width: 80px; background: linear-gradient(135deg, #4488ff, #2244aa); border: 2px solid #fff; border-radius: 5px 5px 0 0; position: relative; cursor: pointer; transition: all 0.3s; box-shadow: 0 0 20px rgba(68, 136, 255, 0.5); }
.building:hover { transform: translateY(-10px); box-shadow: 0 0 40px rgba(68, 136, 255, 0.8); }
.building.lab { background: linear-gradient(135deg, #ff00ff, #aa00aa); box-shadow: 0 0 20px rgba(255, 0, 255, 0.5); }
.building.home { background: linear-gradient(135deg, #00ff88, #00aa55); box-shadow: 0 0 20px rgba(0, 255, 136, 0.5); }
.building.arena { background: linear-gradient(135deg, #ffaa00, #ff6600); box-shadow: 0 0 20px rgba(255, 170, 0, 0.5); }

.label { position: absolute; top: -25px; left: 50%; transform: translateX(-50%); background: rgba(0, 0, 0, 0.8); padding: 5px 10px; border-radius: 5px; font-size: 12px; white-space: nowrap; color: #0ff; font-weight: bold; }

/* Player */
#player { position: absolute; bottom: 20%; left: 50%; width: 40px; height: 60px; background: linear-gradient(135deg, #0ff, #0aa); border: 2px solid #fff; border-radius: 5px; transform: translateX(-50%); z-index: 10; box-shadow: 0 0 20px rgba(0, 255, 255, 0.8); }

/* NPCs */
.npc { position: absolute; bottom: 20%; width: 30px; height: 50px; background: linear-gradient(135deg, #ff00ff, #aa00aa); border: 2px solid #fff; border-radius: 5px; z-index: 9; animation: walk 5s linear infinite; box-shadow: 0 0 15px rgba(255, 0, 255, 0.6); }
@keyframes walk { 0% { left: -50px; } 100% { left: 110%; } }

/* Cars */
.car { position: absolute; bottom: 18%; width: 60px; height: 30px; background: linear-gradient(135deg, #ffff00, #ff8800); border: 2px solid #fff; border-radius: 10px; z-index: 8; animation: drive 8s linear infinite; box-shadow: 0 0 20px rgba(255, 255, 0, 0.7); }
@keyframes drive { 0% { left: -100px; } 100% { left: 110%; } }

/* UI */
#ui { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1000; }

#hud { position: absolute; top: 20px; left: 20px; background: rgba(0, 0, 0, 0.9); padding: 20px; border-radius: 15px; border: 2px solid #0ff; pointer-events: all; box-shadow: 0 0 30px rgba(0, 255, 255, 0.6); }
#hud h3 { color: #0ff; margin-bottom: 10px; font-size: 1.2em; }
.stat { display: flex; justify-content: space-between; margin: 8px 0; color: #aaf; }
.stat span { color: #0f0; font-weight: bold; }

#controls { position: absolute; bottom: 20px; right: 20px; background: rgba(0, 0, 0, 0.9); padding: 15px; border-radius: 10px; border: 2px solid #0ff; pointer-events: all; }
#controls h4 { color: #0ff; margin-bottom: 8px; }
.ctrl { color: #aaf; margin: 5px 0; font-size: 0.9em; }
.key { color: #0f0; font-weight: bold; background: rgba(0, 255, 0, 0.2); padding: 2px 6px; border-radius: 3px; }

#modal { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(0, 0, 0, 0.95); padding: 40px; border-radius: 20px; border: 3px solid #0ff; max-width: 800px; width: 90%; pointer-events: all; box-shadow: 0 0 60px rgba(0, 255, 255, 0.8); }
#modal h2 { color: #0ff; font-size: 2em; margin-bottom: 20px; text-align: center; text-shadow: 0 0 20px #0ff; }
#modal p { color: #aaf; font-size: 1.1em; line-height: 1.8; margin-bottom: 20px; }
.btn { padding: 12px 30px; background: linear-gradient(135deg, #0ff, #08f); border: none; border-radius: 10px; color: #000; font-weight: bold; cursor: pointer; margin: 5px; font-size: 1em; }
.btn:hover { transform: scale(1.1); box-shadow: 0 5px 20px rgba(0, 255, 255, 0.7); }

/* Mini Game */
#minigame { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(0, 0, 0, 0.98); padding: 30px; border-radius: 20px; border: 3px solid #f80; width: 90%; max-width: 700px; pointer-events: all; }
#minigame h2 { color: #f80; font-size: 2em; margin-bottom: 20px; text-align: center; }
#gameArea { background: linear-gradient(135deg, #1a1a3e, #2a2a4e); padding: 30px; border-radius: 15px; border: 2px solid #f80; min-height: 300px; display: flex; flex-direction: column; align-items: center; justify-content: center; }
.pokemon { width: 120px; height: 120px; background: linear-gradient(135deg, #ff6600, #ff0000); border: 3px solid #fff; border-radius: 50%; margin: 20px; display: flex; align-items: center; justify-content: center; font-size: 3em; cursor: pointer; transition: all 0.3s; box-shadow: 0 0 30px rgba(255, 102, 0, 0.7); }
.pokemon:hover { transform: scale(1.2) rotate(10deg); }
.gameBtn { padding: 15px 40px; background: linear-gradient(135deg, #f80, #f00); border: none; border-radius: 12px; color: #fff; font-weight: bold; cursor: pointer; margin: 10px; font-size: 1.1em; }
.gameBtn:hover { transform: scale(1.1); }

#notif { position: absolute; top: 100px; left: 50%; transform: translateX(-50%); background: linear-gradient(135deg, #0f0, #0ff); color: #000; padding: 15px 35px; border-radius: 12px; font-weight: bold; font-size: 1.1em; opacity: 0; transition: opacity 0.3s; pointer-events: none; box-shadow: 0 5px 30px rgba(0, 255, 0, 0.7); }
#notif.show { opacity: 1; }

.hide { display: none !important; }

/* Character Select */
#charSelect { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(135deg, #1a0033, #330066, #004488); display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 10000; pointer-events: all; }
#charSelect h1 { font-size: 3em; color: #0ff; text-shadow: 0 0 40px #0ff; margin-bottom: 30px; animation: glow 2s infinite; }
@keyframes glow { 0%, 100% { text-shadow: 0 0 20px #0ff; } 50% { text-shadow: 0 0 60px #0ff; } }
.charGrid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-bottom: 30px; }
.charCard { background: rgba(0, 255, 255, 0.2); border: 2px solid #0ff; border-radius: 15px; padding: 20px; cursor: pointer; text-align: center; transition: all 0.3s; }
.charCard:hover { background: rgba(0, 255, 255, 0.4); transform: scale(1.05); }
.charCard.selected { background: rgba(0, 255, 0, 0.4); border-color: #0f0; }
.charCard .icon { font-size: 3em; margin-bottom: 10px; }
.charCard h3 { color: #0ff; margin: 10px 0; }
#startBtn { padding: 20px 60px; font-size: 1.5em; background: linear-gradient(135deg, #0ff, #0f0); border: none; border-radius: 15px; color: #000; font-weight: bold; cursor: pointer; }
#startBtn:disabled { opacity: 0.3; cursor: not-allowed; }
</style>
</head>
<body>
<div id="game">
  <div id="sky"></div>
  <div id="ground"></div>
  
  <div id="city">
    <div class="building lab" style="height: 250px;" onclick="enterBuilding('Quantum Lab')">
      <div class="label">‚öõÔ∏è Quantum Lab</div>
    </div>
    <div class="building" style="height: 200px;" onclick="enterBuilding('Tech Store')">
      <div class="label">üè™ Tech Store</div>
    </div>
    <div class="building home" style="height: 180px;" onclick="enterBuilding('Your Home')">
      <div class="label">üè† Your Home</div>
    </div>
    <div class="building lab" style="height: 230px;" onclick="enterBuilding('Bio Lab')">
      <div class="label">üß¨ Bio Lab</div>
    </div>
    <div class="building arena" style="height: 280px;" onclick="enterBuilding('E-Sports Arena')">
      <div class="label">üéÆ E-Sports Arena</div>
    </div>
    <div class="building lab" style="height: 240px;" onclick="enterBuilding('AI Lab')">
      <div class="label">ü§ñ AI Lab</div>
    </div>
    <div class="building" style="height: 190px;" onclick="enterBuilding('Cafe')">
      <div class="label">‚òï Cyber Cafe</div>
    </div>
    <div class="building lab" style="height: 260px;" onclick="enterBuilding('Space Lab')">
      <div class="label">üöÄ Space Lab</div>
    </div>
  </div>
  
  <div id="player"></div>
  
  <!-- NPCs -->
  <div class="npc" style="animation-delay: 0s;"></div>
  <div class="npc" style="animation-delay: 2s; background: linear-gradient(135deg, #00ff88, #00aa55);"></div>
  <div class="npc" style="animation-delay: 4s; background: linear-gradient(135deg, #ffff00, #ff8800);"></div>
  
  <!-- Cars -->
  <div class="car" style="animation-delay: 0s;"></div>
  <div class="car" style="animation-delay: 3s; background: linear-gradient(135deg, #00ffff, #0088ff);"></div>
  <div class="car" style="animation-delay: 6s; background: linear-gradient(135deg, #ff00ff, #aa00aa);"></div>
</div>

<div id="ui">
  <div id="hud">
    <h3>‚ö° STATUS</h3>
    <div class="stat"><span>Role:</span><span id="role">-</span></div>
    <div class="stat"><span>Level:</span><span id="lvl">1</span></div>
    <div class="stat"><span>Rep:</span><span id="rep">0</span></div>
    <div class="stat"><span>Credits:</span><span id="credits">$500K</span></div>
    <div class="stat"><span>Games Won:</span><span id="gamesWon">0</span></div>
  </div>
  
  <div id="controls">
    <h4>CONTROLS</h4>
    <div class="ctrl"><span class="key">CLICK</span> Buildings to enter</div>
    <div class="ctrl"><span class="key">PLAY</span> Mini-games</div>
    <div class="ctrl"><span class="key">EXPLORE</span> The city</div>
  </div>
  
  <div id="modal" class="hide">
    <h2 id="modalTitle">Location</h2>
    <p id="modalDesc">Description</p>
    <div id="modalBtns"></div>
  </div>
  
  <div id="minigame" class="hide">
    <h2 id="gameTitle">Mini Game</h2>
    <div id="gameArea"></div>
    <button class="gameBtn" onclick="closeGame()">EXIT GAME</button>
  </div>
  
  <div id="notif"></div>
</div>

<div id="charSelect">
  <h1>üöÄ TechVerse: Complete World</h1>
  <div class="charGrid">
    <div class="charCard" data-char="Netrunner"><div class="icon">üíª</div><h3>Netrunner</h3></div>
    <div class="charCard" data-char="Bioengineer"><div class="icon">üß¨</div><h3>Bioengineer</h3></div>
    <div class="charCard" data-char="Quantum Physicist"><div class="icon">‚öõÔ∏è</div><h3>Quantum Physicist</h3></div>
    <div class="charCard" data-char="AI Architect"><div class="icon">ü§ñ</div><h3>AI Architect</h3></div>
  </div>
  <button id="startBtn" disabled>Select Character</button>
</div>

<script>
const state = {
  char: null,
  lvl: 1,
  rep: 0,
  credits: 500000,
  gamesWon: 0,
  currentGame: null
};

const locations = {
  'Quantum Lab': {
    desc: 'A cutting-edge quantum computing research facility. Manipulate qubits and explore quantum entanglement!',
    actions: ['Research Quantum Computing (+200 Rep, +$150K)', 'Run Quantum Simulation (+100 Rep)', 'Play Quantum Puzzle']
  },
  'Bio Lab': {
    desc: 'Advanced gene editing and synthetic biology laboratory. Edit DNA and create new life forms!',
    actions: ['Edit Genes (+180 Rep, +$120K)', 'Synthesize Proteins (+90 Rep)', 'Play Bio Match Game']
  },
  'AI Lab': {
    desc: 'Artificial intelligence development center. Train neural networks and create AGI!',
    actions: ['Train AI Model (+220 Rep, +$180K)', 'Test Neural Network (+110 Rep)', 'Play AI Battle']
  },
  'Space Lab': {
    desc: 'Orbital systems and space exploration facility. Design spacecraft and plan missions!',
    actions: ['Design Spacecraft (+250 Rep, +$200K)', 'Plan Mission (+120 Rep)', 'Play Space Race']
  },
  'E-Sports Arena': {
    desc: 'High-tech gaming arena with VR pods and holographic displays. Compete in futuristic games!',
    actions: ['Play Tech Battle', 'Play Quantum Catch', 'Play Speed Clicker']
  },
  'Your Home': {
    desc: 'Your personal high-tech apartment with smart furniture and AI assistant. Relax and upgrade!',
    actions: ['Rest (+50 HP)', 'Upgrade Home (+$50K)', 'Check Inventory']
  },
  'Tech Store': {
    desc: 'Buy cutting-edge technology and equipment. Upgrade your gear!',
    actions: ['Buy VR Headset ($20K)', 'Buy Neural Interface ($80K)', 'Buy Quantum Computer ($150K)']
  },
  'Cyber Cafe': {
    desc: 'Hang out with other tech enthusiasts. Network and collaborate!',
    actions: ['Meet Scientists (+50 Rep)', 'Collaborate (+100 Rep, +$80K)', 'Play Casual Games']
  }
};

// Character selection
let selectedChar = null;
document.querySelectorAll('.charCard').forEach(card => {
  card.addEventListener('click', () => {
    document.querySelectorAll('.charCard').forEach(c => c.classList.remove('selected'));
    card.classList.add('selected');
    selectedChar = card.dataset.char;
    document.getElementById('startBtn').disabled = false;
  });
});

document.getElementById('startBtn').addEventListener('click', () => {
  if (selectedChar) {
    state.char = selectedChar;
    document.getElementById('charSelect').classList.add('hide');
    updateHUD();
    notify('üåü Welcome to TechVerse! Click on buildings to explore!');
  }
});

function enterBuilding(name) {
  const loc = locations[name];
  if (!loc) return;
  
  document.getElementById('modalTitle').textContent = name;
  document.getElementById('modalDesc').textContent = loc.desc;
  
  const btns = document.getElementById('modalBtns');
  btns.innerHTML = '';
  
  loc.actions.forEach(action => {
    const btn = document.createElement('button');
    btn.className = 'btn';
    btn.textContent = action;
    btn.onclick = () => performAction(action, name);
    btns.appendChild(btn);
  });
  
  const closeBtn = document.createElement('button');
  closeBtn.className = 'btn';
  closeBtn.textContent = 'EXIT';
  closeBtn.style.background = 'linear-gradient(135deg, #f00, #a00)';
  closeBtn.onclick = closeModal;
  btns.appendChild(closeBtn);
  
  document.getElementById('modal').classList.remove('hide');
}

function performAction(action, location) {
  if (action.includes('Play')) {
    const gameName = action.replace('Play ', '');
    startMiniGame(gameName);
  } else if (action.includes('Research Quantum')) {
    state.rep += 200;
    state.credits += 150000;
    notify('‚öõÔ∏è Quantum research complete! +200 Rep, +$150K');
    updateHUD();
  } else if (action.includes('Edit Genes')) {
    state.rep += 180;
    state.credits += 120000;
    notify('üß¨ Gene editing successful! +180 Rep, +$120K');
    updateHUD();
  } else if (action.includes('Train AI')) {
    state.rep += 220;
    state.credits += 180000;
    notify('ü§ñ AI model trained! +220 Rep, +$180K');
    updateHUD();
  } else if (action.includes('Design Spacecraft')) {
    state.rep += 250;
    state.credits += 200000;
    notify('üöÄ Spacecraft designed! +250 Rep, +$200K');
    updateHUD();
  } else if (action.includes('Collaborate')) {
    state.rep += 100;
    state.credits += 80000;
    notify('ü§ù Collaboration successful! +100 Rep, +$80K');
    updateHUD();
  } else if (action.includes('Meet Scientists')) {
    state.rep += 50;
    notify('üë• Met brilliant scientists! +50 Rep');
    updateHUD();
  } else {
    notify('‚ú® ' + action);
  }
}

function startMiniGame(gameName) {
  closeModal();
  state.currentGame = gameName;
  document.getElementById('gameTitle').textContent = gameName;
  const gameArea = document.getElementById('gameArea');
  gameArea.innerHTML = '';
  
  if (gameName === 'Tech Battle' || gameName === 'AI Battle') {
    gameArea.innerHTML = `
      <h3 style="color: #0ff; margin-bottom: 20px;">Choose your tech!</h3>
      <div style="display: flex; gap: 20px;">
        <div class="pokemon" onclick="battle('player', 'quantum')">‚öõÔ∏è</div>
        <div class="pokemon" onclick="battle('player', 'ai')">ü§ñ</div>
        <div class="pokemon" onclick="battle('player', 'bio')">üß¨</div>
      </div>
      <p style="color: #aaf; margin-top: 20px;">Click a tech to battle!</p>
    `;
  } else if (gameName === 'Quantum Catch' || gameName === 'Quantum Puzzle') {
    let score = 0;
    gameArea.innerHTML = `
      <h3 style="color: #0ff; margin-bottom: 20px;">Catch the Quantum Particles!</h3>
      <p style="color: #aaf; font-size: 1.5em; margin: 20px 0;">Score: <span id="gameScore">0</span></p>
      <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px;">
        ${Array(9).fill(0).map((_, i) => `<div class="pokemon" onclick="catchParticle(${i})" id="particle${i}">‚öõÔ∏è</div>`).join('')}
      </div>
    `;
    
    window.catchParticle = (i) => {
      score += 10;
      document.getElementById('gameScore').textContent = score;
      document.getElementById('particle' + i).style.background = 'linear-gradient(135deg, #0f0, #0a0)';
      setTimeout(() => {
        document.getElementById('particle' + i).style.background = 'linear-gradient(135deg, #ff6600, #ff0000)';
      }, 200);
      
      if (score >= 100) {
        winGame();
      }
    };
  } else if (gameName === 'Speed Clicker' || gameName === 'Space Race') {
    let clicks = 0;
    gameArea.innerHTML = `
      <h3 style="color: #0ff; margin-bottom: 20px;">Click as fast as you can!</h3>
      <p style="color: #aaf; font-size: 1.5em; margin: 20px 0;">Clicks: <span id="clickCount">0</span></p>
      <div class="pokemon" onclick="clickGame()" style="width: 200px; height: 200px; font-size: 5em;">üéØ</div>
      <p style="color: #888; margin-top: 15px;">Get 50 clicks to win!</p>
    `;
    
    window.clickGame = () => {
      clicks++;
      document.getElementById('clickCount').textContent = clicks;
      if (clicks >= 50) {
        winGame();
      }
    };
  } else {
    gameArea.innerHTML = `
      <h3 style="color: #0ff; margin-bottom: 20px;">${gameName}</h3>
      <p style="color: #aaf; font-size: 1.2em; line-height: 1.8;">This is an exciting mini-game! Complete challenges to earn rewards!</p>
      <button class="gameBtn" onclick="winGame()">COMPLETE GAME</button>
    `;
  }
  
  document.getElementById('minigame').classList.remove('hide');
}

window.battle = (player, choice) => {
  const opponent = ['quantum', 'ai', 'bio'][Math.floor(Math.random() * 3)];
  const win = Math.random() > 0.4;
  
  if (win) {
    winGame();
  } else {
    notify('üí• Battle lost! Try again!');
  }
};

function winGame() {
  state.gamesWon++;
  state.rep += 150;
  state.credits += 100000;
  updateHUD();
  notify(`üéâ ${state.currentGame} WON! +150 Rep, +$100K`);
  closeGame();
}

function closeGame() {
  document.getElementById('minigame').classList.add('hide');
  state.currentGame = null;
}

function closeModal() {
  document.getElementById('modal').classList.add('hide');
}

function updateHUD() {
  document.getElementById('role').textContent = state.char || '-';
  document.getElementById('lvl').textContent = state.lvl;
  document.getElementById('rep').textContent = state.rep;
  document.getElementById('credits').textContent = '$' + (state.credits / 1000).toFixed(0) + 'K';
  document.getElementById('gamesWon').textContent = state.gamesWon;
}

function notify(msg) {
  const n = document.getElementById('notif');
  n.textContent = msg;
  n.classList.add('show');
  setTimeout(() => n.classList.remove('show'), 3500);
}

// Add some dynamic effects
setInterval(() => {
  const sky = document.getElementById('sky');
  const time = Date.now() / 10000;
  const hue1 = (time * 20) % 360;
  const hue2 = (hue1 + 60) % 360;
  sky.style.background = `linear-gradient(to bottom, hsl(${hue1}, 100%, 50%), hsl(${hue2}, 100%, 50%))`;
}, 100);
</script>
</body>
</html>